# STM32CubeMX的配置

在外部中断中，STM32CubeMX其他的设置都是相同的，但是：

## 关于触发开关的设置

1. 引脚的口要设置为:GPIO_EXTI：
2. ![image-20210619215352962](C:\Users\CJX\Desktop\笔记\STM32\图片\外部中断.png)
   （在GPIO_mode是选择工作方式(上升，下降，双向触发)，GPIO Pull_up/Pull_down是选择这个开关的初始电平)
3. 然后要在它的NVIC通道中使其充能

# 写代码方面

## 虚函数的编写

1.位置

要在main.c中,重新编写这个虚函数。

system_stm32f1xx_it.c这个文件下有一个void EXTI9_5_IRQHandler(void)（进行追踪(右键然后选择Go to Definition——)到）stm32f1xx_hal_gpio.c的void HAL_GPIO_EXTI_IRQHandler(uint16_t GPIO_Pin)然后再追踪到HAL_GPIO_EXTI_Callback(GPIO_Pin);

将HAL_GPIO_EXTI_Callback(GPIO_Pin);放到main进行重写.

```c
void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin)
{
	if(GPIO_Pin == GPIO_PIN_9)
	{
		HAL_GPIO_TogglePin(GPIOC,GPIO_PIN_0);
	}
}
```



